{% extends '::base.html.twig' %}

{% block title -%}Stalo redagavimas |{% endblock %}

{% block body -%}
    <main>
        <div class="jumbotron panel-heading">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 text-center">
                        <h3>Stalo redagavimas</h3>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            {{ form_start(form) }}
            {{ form_errors(form) }}
            <div id="actions" class="row text-center">
                <div class="col-xs-4">
                    <a class="btn btn-primary btn-block btn-lg" href="{{ path('table_show', { id: table.id }) }}">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    </a>
                </div>
                <div class="col-xs-4">
                    <a class="btn btn-danger btn-block btn-lg" href="#delete_popup" id="delete-btn">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                    </a>
                </div>
                <div class="col-xs-4">
                    {{ form_widget(form.submit) }}
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 col-md-8 col-md-offset-2">
                    {{ form_row(form.address) }}
                    {{ form_row(form.city) }}
                    {{ form_row(form.lat) }}
                    {{ form_row(form.long) }}
                    {{ form_row(form.availableFrom) }}
                    {{ form_row(form.availableTo) }}
                    {{ form_row(form.api) }}
                    {% if is_granted('ROLE_ADMIN') %}
                        {{ form_row(form.disabled) }}
                    {% endif %}
                    {{ form_row(form.private) }}
                    {{ form_row(form.group.name) }}
                </div>
            </div>
            {{ form_end(form) }}
            <div id="delete_popup" style="display: none;">
                <div class="form-group text-center">
                    <h5>Ar tikrai norite ištrinti šį stalą?</h5>
                </div>
                {{ form_start(delete_form) }}
                {{ form_row(delete_form.submit) }}
                {{ form_end(delete_form) }}
            </div>
        </div>
    </main>
{% endblock %}

{% block javascripts %}
    {% javascripts '@LiuksTableBundle/Resources/public/table_create_form.js' %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}
